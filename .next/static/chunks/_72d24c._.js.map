{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/public/assets/profile.jpg.mjs (structured image object)"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 222, height: 227, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAtElEQVR42j3PywqCUBAGYJ/Wdwja+gBBREHUUlpEbYI2WjtJC81bUZhmicc7Xk6gJDaCBLMY+Pj5Z4iyqqI0+09a4G9dN01DJHmuOZ7uBqqDlLeru/4riMAACh0FZ8PczkabyUA0TLAM4w74I7+nSIYiOeEA6TjLO5CuF3neF6e9k6Z0ACndQZppC8sxtxiqjydUtgA99u0e7lhrTVsr2mcZWZITALisLIqPhzBqB5Y4COGHH2nwpkgRETY7AAAAAElFTkSuQmCC\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,2HAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAAsV,WAAW;IAAG,YAAY;AAAE"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/newhome/profile/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport ProfileImage from \"./../../../../public/assets/profile.jpg\";\r\n\r\nconst Profile: React.FC = () => {\r\n  const [userData, setUserData] = useState<{\r\n    username?: string;\r\n    firstName?: string;\r\n    lastName?: string;\r\n    email?: string;\r\n    password?: string;\r\n  }>({});\r\n\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  const defaultUpdateData = { field: '', value: '', currentValue: '' };\r\n\r\n  const [updateData, setUpdateData] = useState<{ field: string; value: string; currentValue: string }>(\r\n    defaultUpdateData\r\n  );\r\n\r\n  // State to store the username after it's safely retrieved from localStorage\r\n  const [username, setUsername] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      // Safely access localStorage only in the browser environment\r\n      const storedUser = localStorage.getItem('user');\r\n      const storedUsername = storedUser ? JSON.parse(storedUser).username : null;\r\n      setUsername(storedUsername);  // Update state with the retrieved username\r\n\r\n      if (storedUsername) {\r\n        // Fetch user data from the backend API using the stored username\r\n        fetch(`/api/getUserProfile?username=${storedUsername}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            setUserData(data);\r\n          })\r\n          .catch((err) => console.error('Failed to fetch user data', err));\r\n      } else {\r\n        // Redirect to login page if no user data is found\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n  }, []);  // Empty dependency array to run only on component mount\r\n\r\n  const handleSignOut = () => {\r\n    // Redirect to the home page after sign-out\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const handleUpdateSubmit = () => {\r\n    const userId = userData.username;\r\n    if (!userId) {\r\n      alert(\"User ID is required.\");\r\n      return;\r\n    }\r\n\r\n    const updatePayload = {\r\n      userId, // Include the userId\r\n      field: updateData.field,\r\n      currentValue: updateData.currentValue,\r\n      newValue: updateData.value,\r\n    };\r\n    console.log(updatePayload);\r\n\r\n    // Submit updated data to the backend API\r\n    fetch('/api/updateProfile', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(updatePayload),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.success) {\r\n          alert('Profile updated successfully!');\r\n          setUserData({ ...userData, [updateData.field]: updateData.value });\r\n          setIsUpdating(false);\r\n          setUpdateData(defaultUpdateData); \r\n        } else {\r\n          alert('Update failed. Please check your inputs.');\r\n          setUpdateData(defaultUpdateData); \r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error('Failed to update profile', err);\r\n        setUpdateData(defaultUpdateData); // Reset form data on error\r\n      });\r\n  };\r\n\r\n  const handleCancelUpdate = () => {\r\n    setIsUpdating(false);\r\n    setUpdateData(defaultUpdateData); // Reset form data when update is canceled\r\n  };\r\n\r\n  const handleDeleteAccount = () => {\r\n    // Confirmation before deleting the account\r\n    if (window.confirm('Are you sure you want to delete your account? This action is irreversible.')) {\r\n      const userId = userData.username; // Replace with the actual user ID field\r\n\r\n    if (!userId) {\r\n      alert('User ID is missing. Cannot delete account.');\r\n      return;\r\n    }\r\n\r\n      fetch('/api/deleteProfile', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'user-id': userId, // Pass the user ID in the headers\r\n      },\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            alert('Account deleted successfully.');\r\n            window.location.href = '/';\r\n          } else {\r\n            res.json().then((data) => {\r\n              alert(`Failed to delete account: ${data.error}`);\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => console.error('Failed to delete account', err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.authContainer}>\r\n      <div style={styles.formContainer}>\r\n        <h2>Profile</h2>\r\n        <Image\r\n          src={ProfileImage} // Use Image component with StaticImageData\r\n          alt=\"Profile\"\r\n          width={100}\r\n          height={100}\r\n          style={styles.profileImage}\r\n        />\r\n        <p><strong>Username:</strong> {userData.username}</p>\r\n        <p><strong>First Name:</strong> {userData.firstName}</p>\r\n        <p><strong>Last Name:</strong> {userData.lastName}</p>\r\n        <p><strong>Email:</strong> {userData.email}</p>\r\n        <p><strong>Password:</strong> {userData.password}</p>\r\n        <button style={styles.formButton} onClick={handleSignOut}>Sign Out</button>\r\n        <button style={styles.formButton} onClick={() => setIsUpdating(true)}>Update Profile</button>\r\n        <button style={styles.formButton} onClick={handleDeleteAccount}>Delete Profile</button>\r\n\r\n        {isUpdating && (\r\n          <div style={styles.updateDialog}>\r\n            <h3>Update Profile</h3>\r\n            <label>Field to Update:</label>\r\n            <select\r\n              value={updateData.field}\r\n              onChange={(e) => setUpdateData({ ...updateData, field: e.target.value })}\r\n              style={styles.updateSelect}\r\n            >\r\n              <option value=\"\" disabled>Select Field</option>\r\n              <option value=\"email\">Email</option>\r\n              <option value=\"username\">Username</option>\r\n              <option value=\"password_hash\">Password</option>\r\n            </select>\r\n            <label>Current Value:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter current value\"\r\n              value={updateData.currentValue}\r\n              onChange={(e) => setUpdateData({ ...updateData, currentValue: e.target.value })}\r\n              style={styles.updateInput}\r\n            />\r\n            <label>New Value:</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter new value\"\r\n              value={updateData.value}\r\n              onChange={(e) => setUpdateData({ ...updateData, value: e.target.value })}\r\n              style={styles.updateInput}\r\n            />\r\n            <button style={styles.formButton} onClick={handleUpdateSubmit}>Submit</button>\r\n            <button style={styles.formButton} onClick={handleCancelUpdate}>Cancel</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  authContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column' as 'column',  // Specify that this is a valid type\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100vh',\r\n    color: '#fff',\r\n    fontFamily: 'Arial, sans-serif',\r\n    marginBottom: '50px',\r\n  },\r\n  formContainer: {\r\n    backgroundColor: '#7777ed',\r\n    padding: '20px',\r\n    borderRadius: '15px',\r\n    width: '400px',\r\n    boxShadow: '0 4px 10px rgba(0, 0, 0, 0.3)',\r\n    textAlign: 'center' as 'center',  // Ensure this is a valid string\r\n    display: 'flex',\r\n    flexDirection: 'column' as 'column',  // Ensure flexDirection is valid\r\n    alignItems: 'center',\r\n    gap: '15px',\r\n  },\r\n  profileImage: {\r\n    borderRadius: '15%',\r\n    marginBottom: '20px',\r\n  },\r\n  formButton: {\r\n    backgroundColor: '#ffa500',\r\n    color: '#fff',\r\n    border: 'none',\r\n    padding: '10px',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    fontSize: '16px',\r\n  },\r\n  updateDialog: {\r\n    backgroundColor: '#665fcb',\r\n    padding: '50px',\r\n    borderRadius: '15px',\r\n    width: '300px',\r\n    boxShadow: '0 4px 10px rgba(0, 0, 0, 0.9)',\r\n    textAlign: 'left' as 'left',  // Specify valid string value\r\n    position: 'fixed' as 'fixed',  // Ensure position is valid\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n  updateSelect: {\r\n    width: '100%',\r\n    padding: '8px',\r\n    borderRadius: '5px',\r\n    marginBottom: '10px',\r\n  },\r\n  updateInput: {\r\n    width: '100%',\r\n    padding: '8px',\r\n    borderRadius: '5px',\r\n    marginBottom: '10px',\r\n  },\r\n};\r\n\r\nexport default Profile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/next/src/shared/lib/image-external.tsx"],"sourcesContent":["import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// @ts-ignore - This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n"],"names":["getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image"],"mappings":"AAoBaM,QAAQC,GAAG,CAACC,iBAAiB;;;;;;;;;;;;;;;;IAa1C,OAAoB,EAAA;eAApB;;IAjBgBR,aAAa,EAAA;eAAbA;;;;6BAbY;gCACN;sEAGI;AASnB,SAASA,cAAcC,QAAoB;IAChD,MAAM,EAAEC,KAAK,EAAE,GAAGC,CAAAA,GAAAA,aAAAA,WAAW,EAACF,UAAU;QACtCG,eAAAA,aAAAA,OAAa;QACb,4CAA4C;QAC5CC,OAAAA;IACF;IACA,uEAAuE;IACvE,wEAAwE;IACxE,wDAAwD;IACxD,KAAK,MAAM,CAACI,KAAKC,MAAM,IAAIC,OAAOC,OAAO,CAACV,OAAQ;QAChD,IAAIQ,UAAUG,WAAW;YACvB,OAAOX,KAAK,CAACO,IAA0B;QACzC;IACF;IACA,OAAO;QAAEP;IAAM;AACjB;MAEA,WAAeY,gBAAAA,KAAK"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/next/image.js"],"sourcesContent":["module.exports = require('./dist/shared/lib/image-external')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO"}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}