{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/adminPage/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\"; // For navigation\r\nimport \"./page.css\";\r\n\r\nconst AdminDashboardPage: React.FC = () => {\r\n  const [logs, setLogs] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const router = useRouter(); // Initialize the router for navigation\r\n\r\n  useEffect(() => {\r\n    const fetchLogs = async () => {\r\n      try {\r\n        if (typeof window === \"undefined\") return;\r\n\r\n        // Fetch audit logs data from your API (all logs for the admin)\r\n        const logsResponse = await fetch(`/api/adminData`);\r\n        if (!logsResponse.ok) {\r\n          setError(\"Failed to fetch logs.\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const data = await logsResponse.json();\r\n        setLogs(data.logs); // Assuming the API returns logs under a 'logs' field\r\n      } catch (error) {\r\n        console.error(\"Error fetching logs:\", error);\r\n        setError(\"An unexpected error occurred.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLogs();\r\n  }, []);\r\n\r\n  const handleSignOut = () => {\r\n    // Clear any stored data (e.g., username, auth tokens)\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n\r\n    // Navigate back to the login page\r\n    router.push(\"/login\"); // Change to the correct route of your login page\r\n  };\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>Error: {error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"scheduled-container\">\r\n      <main className=\"scheduled-main\">\r\n        <h1>Admin Audit Logs</h1>\r\n        <p>\r\n          Total Audit Log Entries: <strong>{logs.length}</strong>\r\n        </p>\r\n        <div className=\"capsules-columns\">\r\n          {/* Display Audit Logs */}\r\n          <div className=\"column\">\r\n            <h2>Audit Logs</h2>\r\n            {logs.map((log) => (\r\n              <div key={log.log_id} className=\"capsule-item\">\r\n                <img\r\n                  src={`/assets/capsule.png`}\r\n                  className=\"capsule-image\"\r\n                />\r\n                <div className=\"capsule-info\">\r\n                  <p>\r\n                    Capsule Name: <strong>{log.capsule_name}</strong>\r\n                  </p>\r\n                  <p>\r\n                    Action: <strong>{log.action_type}</strong>\r\n                  </p>\r\n                  <p>\r\n                    Timestamp: <strong>{new Date(log.timestamp).toLocaleString()}</strong>\r\n                  </p>\r\n                  {log.shared_usernames && (\r\n                    <p>\r\n                      Shared With: <strong>{log.shared_usernames}</strong>\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {/* Sign Out Button */}\r\n        <button onClick={handleSignOut} className=\"sign-out-button\">\r\n          Sign Out\r\n        </button>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboardPage;\r\n"],"names":[],"mappings":";;;;AACA;AACA,yOAA6C,iBAAiB;;;AAF9D;;;;AAKA,MAAM,qBAA+B;;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD,KAAK,uCAAuC;IAEnE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,uCAAmC;;gBAAM;gBAEzC,+DAA+D;gBAC/D,MAAM,eAAe,MAAM,MAAM,CAAC,cAAc,CAAC;gBACjD,IAAI,CAAC,aAAa,EAAE,EAAE;oBACpB,SAAS;oBACT,WAAW;oBACX;gBACF;gBAEA,MAAM,OAAO,MAAM,aAAa,IAAI;gBACpC,QAAQ,KAAK,IAAI,GAAG,qDAAqD;YAC3E,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,sDAAsD;QACtD,aAAa,KAAK;QAClB,eAAe,KAAK;QAEpB,kCAAkC;QAClC,OAAO,IAAI,CAAC,WAAW,iDAAiD;IAC1E;IAEA,IAAI,SAAS;QACX,qBAAO,6LAAC;sBAAE;;;;;;IACZ;IAEA,IAAI,OAAO;QACT,qBAAO,6LAAC;;gBAAE;gBAAQ;;;;;;;IACpB;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,WAAU;;8BACd,6LAAC;8BAAG;;;;;;8BACJ,6LAAC;;wBAAE;sCACwB,6LAAC;sCAAQ,KAAK,MAAM;;;;;;;;;;;;8BAE/C,6LAAC;oBAAI,WAAU;8BAEb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;0CAAG;;;;;;4BACH,KAAK,GAAG,CAAC,CAAC,oBACT,6LAAC;oCAAqB,WAAU;;sDAC9B,6LAAC;4CACC,KAAK,CAAC,mBAAmB,CAAC;4CAC1B,WAAU;;;;;;sDAEZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;wDAAE;sEACa,6LAAC;sEAAQ,IAAI,YAAY;;;;;;;;;;;;8DAEzC,6LAAC;;wDAAE;sEACO,6LAAC;sEAAQ,IAAI,WAAW;;;;;;;;;;;;8DAElC,6LAAC;;wDAAE;sEACU,6LAAC;sEAAQ,IAAI,KAAK,IAAI,SAAS,EAAE,cAAc;;;;;;;;;;;;gDAE3D,IAAI,gBAAgB,kBACnB,6LAAC;;wDAAE;sEACY,6LAAC;sEAAQ,IAAI,gBAAgB;;;;;;;;;;;;;;;;;;;mCAjBxC,IAAI,MAAM;;;;;;;;;;;;;;;;8BA0B1B,6LAAC;oBAAO,SAAS;oBAAe,WAAU;8BAAkB;;;;;;;;;;;;;;;;;AAMpE;GA7FM;;QAIW,qIAAA,CAAA,YAAS;;;KAJpB;uCA+FS"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}